<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inheriting the POS form view to add signature functionality -->
    <record id="view_pos_pos_form_inherit" model="ir.ui.view">
        <field name="name">POS view</field>
        <field name="model">pos.order</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_pos_form" />
        <field name="arch" type="xml">
            <xpath expr="//group[@name='order_total']" position="inside">
                <field name="signature"
                       string="Signature"
                       class="oe_subtotal_footer_separator"
                       widget="image"
                       options="{'size': [150, 150]}"
                       invisible="signature == 'True'"
                       readonly="state != 'draft'"/>
            </xpath>
        </field>
    </record>

    <!-- Extending the existing customer display template to add order total and sales tax -->
    <template id="point_of_sale.customer_display_index" inherit_id="point_of_sale.customer_display_index" name="POS Customer Display">
        <xpath expr="//body" position="inside">
            <div class="order-summary">
                <div class="order-total">
                    <span>Order Total: <t t-esc="total" /></span>
                </div>
                <div class="sales-tax">
                    <span>Sales Tax: <t t-esc="sales_tax" /></span>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
